<div class="modal fade createfolder" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title text-center" id="myModalLabel">Add A New Customer</h3>
      </div>
      <div class="modal-body">
      </div>


    </div>
  </div>
</div>


<div class="row">
<div class="col-sm-3 row">

<div id="full-clndr" class="clearfix "></div>
</div>
<div class="col-sm-9">
<div class="data_table">
  <%= render 'table' %>

</div>
</div>

<div class="col-sm-12">
<h2> Year End Data</h2>
  <table class="table table-bordered">
    <thead>
      <tr>      
      <th>Service Date</th>
      <th>Receipt Number</th>
      <th>Firstname</th>
      <th>Lastname</th>
      <th>PayType</th>
      <th>Pay Tax </th>
      <th>Payment Total</th>
      <th>Deposit Date </th>
    </tr>
  </thead>
  <tbody>
    <% @all_massage.each do |m| %>
    <tr>
      <td><%= best_in_place m, :service_date,:as => :date,:place_holder=> "-----------" %></td>

      <td><%= best_in_place m, :receipt_num,:place_holder=> "-----------" %></td>
      <td><%=  best_in_place m,:fname,:place_holder=> "-----------" %></td>
      <td><%= best_in_place m,:lname,:place_holder=> "-----------" %></td>
      <td><%= best_in_place m,:cardtype ,:as => :select, :collection => %w(Mastercard Visa Debit Cash),:place_holder=> "-----------" %></td>
      <td><%= best_in_place m,:tax,:place_holder=> "-----------" %></td>
      <td><%= best_in_place m,:amount,:place_holder=> "-----------" %></td>
      <td><%= best_in_place m,:deposit_date ,:as => :date,:place_holder=> "-----------" %></td>
      
    </tr>
    <% end %>
  </tbody>
</table>
</div>
</div>



<script type="text/template" id="full-clndr-template">
<div class="clndr-grid">
<div class="clndr-controls">
  <div class="clndr-previous-button"><i class="fa fa-chevron-left"></i></div>
  <div class="clndr-next-button"><i class="fa fa-chevron-right"></i></div>
  <div class="current-month"><%%= month %> <%%= year %></div>
</div>
<div class="days-of-the-week clearfix">
  <%% _.each(daysOfTheWeek, function(day) { %>
  <div class="header-day"><%%= day %></div>
  <%% }); %>
</div>
<div class="days">
  <%% _.each(days, function(day) { %>
  <div class="<%%= day.classes %>" id="<%%= day.id %>"><span class="day-number"><%%= day.day %></span></div>
  <%% }); %>
</div>
</div>
// <div class="event-listing">
// <%% _.each(eventsThisMonth, function(event) { %>
// <div class="event-item">
//   <div class="event-item-name"><h4><%%= event.title %></h4></div>
//   <div class="event-item-dueamount"><h2><%%= event.card %></h2></div>
//     <div class="event-item-duedate"><h5><%%= event.date %></h5></div>


// <hr>
// </div>
// <%% }); %>


// </div>
</script>

<script>    


    clndr = $('#full-clndr').clndr({
        template: $('#full-clndr-template').html(),
        forceSixRows: true,
        clickEvents: {
    // fired whenever a calendar box is clicked.
    // returns a 'target' object containing the DOM element, any events, and the date as a moment.js object.
    click: function(target){ 
      console.log(target.date.format("YYYY-MM-DD"))
      date = target.date.format("YYYY-MM-DD")
      $.ajax({url: "<%= get_data_massages_path %>", data: {date: date}, type: "get"});
      
    }
    // fired when a user goes forward a month. returns a moment.js object set to the correct month.

  },
  // the target classnames that CLNDR will look for to bind events. these are the defaults.
  targets: {
    nextButton: 'clndr-next-button',
    previousButton: 'clndr-previous-button',
    todayButton: 'clndr-today-button',
    day: 'day',
    empty: 'empty'
  },
  // an array of event objects


    });</script>